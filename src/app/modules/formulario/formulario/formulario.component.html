<div class="background">
  <div *ngIf="!categoria">
    <button mat-raised-button class="button" color="primary">
      Enviar notificacion (clientes)
    </button>
    <button mat-raised-button class="button" color="primary">
      Enviar notificacion (productos)
    </button>
  </div>

  <div *ngIf="categoria" class="content">
    <mat-form-field>
      <mat-label>Categoria</mat-label>
      <input matInput disabled="true" [value]="categoria" />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Tipo de notificacion</mat-label>

      <mat-select value="1" #estilo (valueChange)="style.set(estilo.value)">
        <mat-option value="1">Estilo 1</mat-option>
        <mat-option value="2">Estilo 2</mat-option>
        <mat-option value="3">Estilo 3</mat-option>
        <mat-option value="4">Estilo 4</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Destinatario</mat-label>
      <mat-select [formControl]="toppings" multiple>
        <mat-option
          *ngFor="let topping of toppingList; let i = index"
          [value]="topping"
          >{{ topping }} {{ i + 1 }}</mat-option
        >
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Contenido</mat-label>
      <textarea
        #contentId
        matInput
        cdkTextareaAutosize
        style="max-height: 100px"
        [value]="content()"
        (input)="content.set(contentId.value)"
      ></textarea>
    </mat-form-field>
  </div>

  <div
    class="notification"
    [ngStyle]="{ 'background-color': backgroundStyle[+style() - 1] }"
  >
    <div class="icon">
      <mat-icon
        aria-hidden="false"
        aria-label="Example home icon"
        [fontIcon]="icons[+style() - 1]"
        style="margin-top: 3px"
      ></mat-icon>
      <div class="icon_right">
        <div class="categoria">Categoria: {{ categoria }}</div>
        <div class="type">Estilo: {{ style() }}</div>
        <div class="contenido">
          <p>{{ content() }}</p>
        </div>
      </div>
    </div>
  </div>
  <button
    class="button"
    mat-raised-button
    class="button"
    color="primary"
    routerLink="/formulario/cliente"
  >
    Enviar notificacion
  </button>
</div>
